<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jelly: jelly::CompactionJob Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Jelly
   </div>
   <div id="projectbrief">C++ embeddable database system for online games.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>jelly</b></li><li class="navelem"><a class="el" href="structjelly_1_1CompactionJob.html">CompactionJob</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structjelly_1_1CompactionJob-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">jelly::CompactionJob Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Description of a minor compaction job (some stores turned into one).  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab7586ffda9c75db48332bc5983a92a3a" id="r_ab7586ffda9c75db48332bc5983a92a3a"><td class="memItemLeft" align="right" valign="top"><a id="ab7586ffda9c75db48332bc5983a92a3a" name="ab7586ffda9c75db48332bc5983a92a3a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>Validate</b> () const noexcept</td></tr>
<tr class="memdesc:ab7586ffda9c75db48332bc5983a92a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates if job is defined correctly. <br /></td></tr>
<tr class="separator:ab7586ffda9c75db48332bc5983a92a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873e35a6cceccff94125fe077ba0f0e5" id="r_a873e35a6cceccff94125fe077ba0f0e5"><td class="memItemLeft" align="right" valign="top"><a id="a873e35a6cceccff94125fe077ba0f0e5" name="a873e35a6cceccff94125fe077ba0f0e5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsSet</b> () const noexcept</td></tr>
<tr class="memdesc:a873e35a6cceccff94125fe077ba0f0e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if this is a valid compaction job. <br /></td></tr>
<tr class="separator:a873e35a6cceccff94125fe077ba0f0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ade4bfaf8236d39fac73f9c730011c901" id="r_ade4bfaf8236d39fac73f9c730011c901"><td class="memItemLeft" align="right" valign="top"><a id="ade4bfaf8236d39fac73f9c730011c901" name="ade4bfaf8236d39fac73f9c730011c901"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_oldestStoreId</b></td></tr>
<tr class="memdesc:ade4bfaf8236d39fac73f9c730011c901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Oldest store id currently present on disk. <br /></td></tr>
<tr class="separator:ade4bfaf8236d39fac73f9c730011c901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade79e1ae339782c0c76d8268157f3a06" id="r_ade79e1ae339782c0c76d8268157f3a06"><td class="memItemLeft" align="right" valign="top"><a id="ade79e1ae339782c0c76d8268157f3a06" name="ade79e1ae339782c0c76d8268157f3a06"></a>
std::vector&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_storeIds</b></td></tr>
<tr class="memdesc:ade79e1ae339782c0c76d8268157f3a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store ids to perform compaction on. <br /></td></tr>
<tr class="separator:ade79e1ae339782c0c76d8268157f3a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Description of a minor compaction job (some stores turned into one). </p>
<p>The "oldest store id" is required for pruning tombstones: every tombstone has an inscription mentioning the latest store id at time of deletion. When a tombstone is encountered during the compaction process, the inscriped store id is compared with the current oldest one. If the oldest one is newer it means that no present store can possilby have references to this item - so it can safely be deleted. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="Example3_Housekeeping_8cpp-example.html#_a9">Example3_Housekeeping.cpp</a>.</dd>
</dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
